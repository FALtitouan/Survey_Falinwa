<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plan Personnalisé</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--brand:#09A5A7;--accent:#F18815;--purple:#7a4d6e;--ink:#151517;--muted:#6b7280;--line:#E5E7EB;--bg:#ffffff}
    *{box-sizing:border-box}
    body{margin:0;font-family:'Quicksand',Arial,Helvetica,sans-serif;color:var(--ink)}
    .page{max-width:1180px;margin:0 auto;padding:28px 20px}
    h1{font-weight:900;font-size:clamp(28px,2.8vw,42px);margin:0 0 10px}
    .subtitle{color:var(--muted);margin:0 0 24px;font-size:16px;font-weight:600}

    /* two columns: LEFT form, RIGHT prices */
    .layout{display:grid;grid-template-columns:1fr;gap:24px}
    @media(min-width:980px){.layout{grid-template-columns:440px 1fr;align-items:start}}
    .col-form{order:1}
    .col-summary{order:2}

    /* summary card (right) */
    .summary{border:1px solid var(--line);background:#fff;border-radius:10px;overflow:hidden;position:sticky;top:18px}
    .summary-header{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid var(--line)}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:#eef8f8;color:#1b8f91;font-weight:800;font-size:13px}
    .tier-list{list-style:none;margin:0;padding:0}
    .tier-item{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--line)}
    .tier-item:last-child{border-bottom:0}
    .tier-name{font-weight:800;font-size:16px}
    .kpi{display:flex;gap:12px;align-items:baseline;font-size:16px}
    .kpi-hours{color:var(--accent);font-weight:900;font-size:17px}
    .kpi-price{color:var(--purple);font-weight:900;font-size:17px}
    .cta{display:block;background:var(--purple);color:#fff;text-align:center;padding:14px 24px;border-radius:8px;font-weight:800;cursor:pointer;font-size:16px;width:calc(100% - 36px);margin:18px auto 20px;text-decoration:none}
    .cta:hover{opacity:.95}
    .muted{color:var(--muted);font-size:13px;margin:0 18px 16px}

    /* form on left (stacked, no box) */
    .form{padding:6px 0}
    .form-section{margin:22px 0}
    label{display:block;font-size:15px;font-weight:700;margin:0 0 8px}
    input[type='number'], select{
      width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:4px;
      font-size:15px;background:#fff;outline:none;font-weight:600;margin-bottom:10px
    }
    input[type='number']:focus, select:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(241,136,21,.25)}
    .radio-group, .needs-group{display:flex;flex-direction:column;gap:12px}
    .radio-option{display:flex;align-items:center;gap:10px;font-weight:700;font-size:15px;color:var(--ink)}

    /* Custom round pickers (radios + checkboxes) */
    .radio-option input{
      appearance:none; -webkit-appearance:none;
      width:18px;height:18px;border:2px solid var(--accent);border-radius:50%;
      display:inline-block;position:relative;outline:none;cursor:pointer;background:#fff;
      vertical-align:middle;
    }
    .radio-option input:checked::after{
      content:'';position:absolute;inset:3px;border-radius:50%;background:var(--accent);
    }
    .radio-option input:focus{box-shadow:0 0 0 3px rgba(241,136,21,.25)}

    .hidden{display:none}
  </style>
</head>
<body>
  <div id="app" class="page">
    <h1>PLAN PERSONNALISÉ</h1>

    <div class="layout">
      <!-- LEFT: form -->
      <section class="col-form">
        <div class="form">
          <div class="form-section">
            <label for="size">Nombre d'utilisateurs</label>
            <input id="size" type="number" min="1">
          </div>

          <div class="form-section">
            <label>Type de client</label>
            <div class="radio-group">
              <label class="radio-option"><input type="radio" name="client" value="new"> Nouveau client</label>
              <label class="radio-option"><input type="radio" name="client" value="existing"> Client existant</label>
            </div>
          </div>

          <div class="form-section">
            <label for="country">Pays</label>
            <select id="country"></select>
          </div>

          <div class="form-section">
            <label>Besoins</label>
            <div class="needs-group">
              <!-- multiple selections allowed -->
              <label class="radio-option"><input type="checkbox" name="need" value="development"> Development</label>
              <label class="radio-option"><input type="checkbox" name="need" value="customization"> Customization</label>
              <label class="radio-option"><input type="checkbox" name="need" value="training"> Training</label>
              <label class="radio-option"><input type="checkbox" name="need" value="support"> Support</label>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: prices -->
      <aside class="col-summary hidden">
        <div class="summary">
          <div class="summary-header">
            <div style="font-weight:900;font-size:17px">Vos options</div>
            <span class="badge">Tarifs disponibles</span>
          </div>
          <ul class="tier-list" id="tiers"></ul>
          <p class="muted">France = Japon, Hong Kong = Chine, Cambodge = Vietnam. Indonésie en Rp.</p>
          <a class="cta" href="https://www.falinwa.com/contactus">Contact us</a>
        </div>
      </aside>
    </div>
  </div>

  <script>
    /* ------- Data ------- */
    const BASE_PRICES = {
      Starter:{existing:682.35,new:580},
      Basic:{existing:3600,new:3060},
      Standard:{existing:7000,new:5950},
      Custom:{existing:12500,new:10625},
      Pro:{existing:25000,new:21250},
    };
    const HOURS = {Starter:'4h',Basic:'25h',Standard:'50h',Custom:'100h',Pro:'200h'};
    const COUNTRY = {
      Indonesia:{mult:15000,currency:'Rp'}, Japan:{mult:1,currency:'US$'},
      France:{mult:1,currency:'US$'}, China:{mult:1,currency:'US$'},
      'Hong Kong':{mult:1,currency:'US$'}, Singapore:{mult:1,currency:'US$'},
      Vietnam:{mult:0.33,currency:'US$'}, Cambodia:{mult:0.33,currency:'US$'}
    };
    const TIERS = ['Starter','Basic','Standard','Custom','Pro'];

    /* ------- DOM ------- */
    const sizeEl = document.getElementById('size');
    const countryEl = document.getElementById('country');
    const tiersEl = document.getElementById('tiers');
    const summary = document.querySelector('.col-summary');

    // Populate country dropdown (default Indonesia)
    Object.keys(COUNTRY).forEach(c=>{
      const o=document.createElement('option');
      o.value=c; o.textContent=c; countryEl.appendChild(o);
    });
    countryEl.value = 'Indonesia';

    /* ------- Logic ------- */
    function allowedTiers(size, needsArr){
      let allowed = [...TIERS];
      if (size > 5) allowed = allowed.filter(t => t !== 'Starter');
      if (Array.isArray(needsArr) && needsArr.includes('development')) {
        allowed = allowed.filter(t => t !== 'Starter' && t !== 'Basic');
      }
      if (Array.isArray(needsArr) && needsArr.includes('customization')) {
        allowed = allowed.filter(t => t !== 'Starter');
      }
      return allowed;
    }

    function priceFor(tier, client, country){
      const base = BASE_PRICES[tier][client || 'existing'];
      const info = COUNTRY[country] || {mult:1, currency:'US$'};
      return {amount: base * info.mult, currency: info.currency};
    }

    function update(){
      const size = parseInt(sizeEl.value || '0', 10);
      const client = document.querySelector('input[name="client"]:checked')?.value;
      const country = countryEl.value;
      const needs = Array.from(document.querySelectorAll('input[name="need"]:checked')).map(i=>i.value);

      if (!size || !client || !country) {
        summary.classList.add('hidden');
        return;
      }

      const allowed = allowedTiers(size, needs);
      tiersEl.innerHTML = '';
      allowed.forEach(t=>{
        const p = priceFor(t, client, country);
        const li = document.createElement('li');
        li.className = 'tier-item';
        li.innerHTML = `
          <span class="tier-name">${t}</span>
          <div class="kpi">
            <span class="kpi-hours">${HOURS[t]}</span>
            <span class="kpi-price">${p.amount.toLocaleString()} ${p.currency}</span>
          </div>`;
        tiersEl.appendChild(li);
      });

      summary.classList.remove('hidden');
    }

    // Reactivity
    document.querySelectorAll('input,select').forEach(el=>{
      el.addEventListener('input', update);
      el.addEventListener('change', update);
    });
  </script>
</body>
</html>
